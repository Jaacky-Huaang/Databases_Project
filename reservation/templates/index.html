{% extends "layout.html" %}

{% block headlines %} <h1>Welcome to the Flight Lookup Center!</h1>{% endblock headlines %}

{% block content %} 
<section id="search-flights"> 
    <form method="POST" action="" id="upcoming_flight_form"> 
        {{ form_upcoming_flight.hidden_tag() }} 
        <fieldset> 
            <legend>Find Upcoming Flights</legend>
            <div class="form-group">
                {{ form_upcoming_flight.departure_place.label(class="control-label") }}
                {{ form_upcoming_flight.departure_place(class="form-control", placeholder="Enter Departure City") }}
                {% if form_upcoming_flight.departure_place.errors %}
                    <div class="text-danger">
                        {% for error in form_upcoming_flight.departure_place.errors %}
                            {{ error }}
                        {% endfor %}
                    </div>
                {% endif %}
            </div>

            <div class="form-group">
                {{ form_upcoming_flight.arrival_place.label(class="control-label") }}
                {{ form_upcoming_flight.arrival_place(class="form-control", placeholder="Enter Arrival City") }}
                {% if form_upcoming_flight.arrival_place.errors %}
                    <div class="text-danger">
                        {% for error in form_upcoming_flight.arrival_place.errors %}
                            {{ error }}
                        {% endfor %}
                    </div>
                {% endif %}
            </div>

            <div class="form-group">
                {{ form_upcoming_flight.departure_time.label(class="control-label") }}
                {{ form_upcoming_flight.departure_time(class="form-control", placeholder="YYYY-MM-DD") }}
                {% if form_upcoming_flight.departure_time.errors %}
                    <div class="text-danger">
                        {% for error in form_upcoming_flight.departure_time.errors %}
                            {{ error }}
                        {% endfor %}
                    </div>
                {% endif %}
            </div>

            <div class="form-group">
                {{ form_upcoming_flight.arrival_time.label(class="control-label") }}
                {{ form_upcoming_flight.arrival_time(class="form-control", placeholder="YYYY-MM-DD") }}
                {% if form_upcoming_flight.arrival_time.errors %}
                    <div class="text-danger">
                        {% for error in form_upcoming_flight.arrival_time.errors %}
                            {{ error }}
                        {% endfor %}
                    </div>
                {% endif %}
            </div>

            <small class="form-text">Fields can be left blank to show all options</small>

            <div class="form-group mt-3">
                {{ form_upcoming_flight.submit(class="btn btn-primary") }}
            </div>
        </fieldset>
    </form>
</section>
{% endblock content %}

{% block extra_content %}
 <section id="flight-status" class="mt-5"> <div class="container"> 
    <h2>Flight Status Board</h2> <form method="POST" action=""> 
        {{ form_flight_status.hidden_tag() }} 
        <div class="form-row"> 
            <div class="form-group col-md-4"> 
                {{ form_flight_status.flight_number.label(class="control-label") }} 
                {{ form_flight_status.flight_number(class="form-control", placeholder="Flight Number") }} 
                {% if form_flight_status.flight_number.errors %} 
                <div class="text-danger"> 
                    {% for error in form_flight_status.flight_number.errors %} 
                    {{ error }} 
                    {% endfor %} 
                </div> 
                {% endif %} 
            </div> 
            <div class="form-group col-md-4"> 
                {{ form_flight_status.departure_time.label(class="control-label") }} 
                {{ form_flight_status.departure_time(class="form-control", placeholder="Departure Date") }} 
                {% if form_flight_status.departure_time.errors %} 
                <div class="text-danger"> 
                    {% for error in form_flight_status.departure_time.errors %} 
                    {{ error }} 
                    {% endfor %} 
                </div> 
                {% endif %} 
            </div> 
            <div class="form-group col-md-4"> 
                {{ form_flight_status.arrival_time.label(class="control-label") }} 
                {{ form_flight_status.arrival_time(class="form-control", placeholder="Arrival Date") }} 
                {% if form_flight_status.arrival_time.errors %} 
                <div class="text-danger"> 
                    {% for error in form_flight_status.arrival_time.errors %} 
                    {{ error }} 
                    {% endfor %} 
                </div> 
                {% endif %} 
            </div> 
        </div> 
        <div class="form-group mt-3"> 
            <button type="submit" class="btn btn-primary">Check Flight Status</button> 
        </div> 
    </form>

    {% if status_search_result %}
    <div class="container mt-4">
        <div class="table-responsive">
            <table class="table table-hover shadow-sm">
                <thead class="table-light">
                    <tr>
                        <th scope="col">Flight Number</th>
                        <th scope="col">Departure Time</th>
                        <th scope="col">Arrival Time</th>
                        <th scope="col">Status</th>
                    </tr>
                </thead>
                <tbody>
                    {% for flight in status_search_result %}
                    <tr>
                        <td>{{ flight.flight_num }}</td>
                        <td>{{ flight.departure_time }}</td>
                        <td>{{ flight.arrival_time }}</td>
                        <td>
                            <span class="badge rounded-pill bg-info text-dark">
                                {{ flight.status }}
                            </span>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    {% else %}
    <div class="alert alert-warning" role="alert">
        No flights found matching your criteria.
    </div>
    {% endif %}
    
    </div>
</section>
{% endblock extra_content %}











